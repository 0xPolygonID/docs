---
id: smart-contracts
title: Smart Contracts
sidebar_label: Smart Contracts
description: Smart Contracts used by the Polygon ID solution.
keywords:
  - docs
  - polygon id
  - smart
  - contract
---

## CredentialAtomicQuerySigValidator

The [CredentialAtomicQuerySigValidator](https://github.com/0xPolygonID/contracts/blob/main/contracts/validators/CredentialAtomicQuerySigValidator.sol) contract is used to verify any credential-related zk proof generated by user using the [credentialAtomicQuerySigV2OnChain](https://docs.iden3.io/protocol/main-circuits/#credentialAtomicQuerySigV2OnChain) circuit. The contract only verifies proofs based on credential of type `Signature`.

The core of the contract is its [verify](https://github.com/0xPolygonID/contracts/blob/main/contracts/validators/CredentialAtomicQuerySigValidator.sol#L41) function that takes the proof generated by a user and executes a set of verifications:

- Verifies that the proof is valid. This verification is actually performed inside the 
[verifierSig](https://github.com/0xPolygonID/contracts/blob/main/contracts/verifiers/circuits/verifierSig.sol) contract which is automatically generated using CIRCOM.
- Verifies that the input used to generate the proof matches the query associated to that specific Request.
- Verifies that the user's and the Issuer's identity states are valid based on the State Contract.

:::note

The `CredentialAtomicQuerySigValidator` executes the same set of verifications of the [Verification Library](/guides/verifier/verification-api.md). The former is required when performing on-chain verification while the latter is required for off-chain verification.

:::

`CredentialAtomicQuerySigValidator` contract address: [0xF2D4Eeb4d455fb673104902282Ce68B9ce4Ac450](https://mumbai.polygonscan.com/address/0xF2D4Eeb4d455fb673104902282Ce68B9ce4Ac450)

## CredentialAtomicQueryMTPValidator

[CredentialAtomicQueryMTPValidator](https://github.com/0xPolygonID/contracts/blob/main/contracts/validators/CredentialAtomicQueryMTPValidator.sol) contract performs the same set of verifications of the `CredentialAtomicQuerySigValidator` but for credential of type `MTP`.

`CredentialAtomicQueryMTPValidator` contract address: [0x3DcAe4c8d94359D31e4C89D7F2b944859408C618](https://mumbai.polygonscan.com/address/0x3DcAe4c8d94359D31e4C89D7F2b944859408C618)

:::info

Further protocol related contracts can found at [<ins>Iden3 - Smart Contracts</ins>](https://docs.iden3.io/contracts/state/).

:::